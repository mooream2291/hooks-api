{"ast":null,"code":"import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nconst useAjax = () => {\n  const [data, setData] = useState([]);\n  const [options, request] = useState({});\n  console.log(options);\n  useEffect(() => {\n    async function ajaxCall() {\n      try {\n        const res = await axios(options);\n        console.log(res.data);\n        setData(res.data.results);\n        console.log(res.data);\n      } catch (error) {\n        console.log(error); // setError(error);\n      }\n    }\n\n    ajaxCall();\n  }, [options, data]);\n  console.log(data);\n  return {\n    data,\n    request\n  };\n};\n\nexport default useAjax; // const getItems = () => {\n//     fetch(toDoAPI, {\n//         method: 'Get',\n//         mode: 'cors',\n//     })\n//     .then(data => data.json())\n//     .then(data => setlist(data.results))\n//     .catch(console.error);\n// }\n// useEffect(_getTodoItems, []);\n// const _addItem = (item) => {\n// item.due = new Date();\n//     fetch(todoAPI, {\n//       method: 'Post',\n//       mode: 'cors',\n//       cache: 'no-cache',\n//       headers: { 'Content-Type': 'application/json' },\n//       body: JSON.stringify(item)\n//     })\n//       .then(response => response.json())\n//       .then(savedItem => {\n//         setList([...list, savedItem])\n//       })\n//       .catch(console.error);\n//   };","map":{"version":3,"sources":["/Users/ashleymoore/Documents/codefellows/code401/lab-31/hooks-api/src/components/todo/hooks/ajax.js"],"names":["axios","useEffect","useState","useAjax","data","setData","options","request","console","log","ajaxCall","res","results","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAElB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBH,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACI,OAAD,EAAUC,OAAV,IAAqBL,QAAQ,CAAC,EAAD,CAAnC;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAL,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAeS,QAAf,GAA0B;AAEtB,UAAI;AACA,cAAMC,GAAG,GAAG,MAAMX,KAAK,CAACM,OAAD,CAAvB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACP,IAAhB;AACAC,QAAAA,OAAO,CAACM,GAAG,CAACP,IAAJ,CAASQ,OAAV,CAAP;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACP,IAAhB;AACH,OALD,CAKE,OAAOS,KAAP,EAAc;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ,EADY,CAEZ;AACH;AACJ;;AACDH,IAAAA,QAAQ;AACX,GAdQ,EAcN,CAAEJ,OAAF,EAAWF,IAAX,CAdM,CAAT;AAeAI,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,SAAO;AAAEA,IAAAA,IAAF;AAAQG,IAAAA;AAAR,GAAP;AACH,CAtBD;;AAwBA,eAAeJ,OAAf,C,CAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react'\n\nconst useAjax = () => {\n\n    const [data, setData] = useState([]);\n    const [options, request] = useState({});\n    console.log(options);\n    useEffect(() => {\n        async function ajaxCall() {\n\n            try {\n                const res = await axios(options);\n                console.log(res.data);\n                setData(res.data.results);\n                console.log(res.data);\n            } catch (error) {\n                console.log(error)\n                // setError(error);\n            }\n        }\n        ajaxCall();\n    }, [ options, data ]);\n    console.log(data);\n    return { data, request };\n}\n\nexport default useAjax;\n\n\n\n\n\n\n\n\n\n\n\n// const getItems = () => {\n//     fetch(toDoAPI, {\n//         method: 'Get',\n//         mode: 'cors',\n//     })\n//     .then(data => data.json())\n//     .then(data => setlist(data.results))\n//     .catch(console.error);\n// }\n\n// useEffect(_getTodoItems, []);\n// const _addItem = (item) => {\n    // item.due = new Date();\n//     fetch(todoAPI, {\n//       method: 'Post',\n//       mode: 'cors',\n//       cache: 'no-cache',\n//       headers: { 'Content-Type': 'application/json' },\n//       body: JSON.stringify(item)\n//     })\n//       .then(response => response.json())\n//       .then(savedItem => {\n//         setList([...list, savedItem])\n//       })\n//       .catch(console.error);\n//   };"]},"metadata":{},"sourceType":"module"}